<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <!-- Cadenas de conexión -->
  <connectionStrings>
    <!-- Conexión a SQL Server LocalDB -->
    <add name="DefaultConnection" 
         connectionString="Data Source=(localdb)\MSSQLLocalDB;Initial Catalog=FrutasDB;Integrated Security=True;Connect Timeout=30;Encrypt=False;TrustServerCertificate=False;ApplicationIntent=ReadWrite;MultiSubnetFailover=False" 
         providerName="System.Data.SqlClient" />
  </connectionStrings>
  
  <!-- Configuraciones de aplicación -->
  <appSettings>
    <!-- Configuración básica -->
    <add key="EnableLogging" value="true" />
    <add key="LogLevel" value="INFO" />
    <add key="SessionTimeout" value="30" />
    <add key="ApplicationName" value="Sistema de Gestión de Frutas" />
    <add key="ApplicationVersion" value="1.0.0" />
    <add key="DefaultPageSize" value="10" />
    <add key="MaxPageSize" value="100" />
    <add key="vs:EnableBrowserLink" value="false" />
  </appSettings>

  <system.web>
    <!-- Configuración básica -->
    <compilation debug="true" targetFramework="4.8" />
    <httpRuntime targetFramework="4.8" maxRequestLength="5120" executionTimeout="90" />
    
    <!-- Configuración de sesiones simplificada -->
    <sessionState mode="InProc" timeout="30" />
    
    <!-- Configuración de autenticación -->
    <authentication mode="Forms">
      <forms loginUrl="~/Account/Login.aspx" 
             defaultUrl="~/Default.aspx" 
             timeout="30" 
             slidingExpiration="true" />
    </authentication>
    
    <!-- Autorización básica -->
    <authorization>
      <allow users="*" />
    </authorization>
    
    <!-- Páginas básicas -->
    <pages />
    
    <!-- Configuración de errores -->
    <customErrors mode="RemoteOnly" defaultRedirect="~/Error.aspx">
      <error statusCode="404" redirect="~/NotFound.aspx" />
      <error statusCode="500" redirect="~/Error.aspx" />
    </customErrors>
    
    <!-- Configuración regional -->
    <globalization culture="es-ES" uiCulture="es-ES" />
  </system.web>

  <system.webServer>
    <validation validateIntegratedModeConfiguration="false" />
    
    <!-- Configuración básica de seguridad -->
    <httpProtocol>
      <customHeaders>
        <add name="X-Content-Type-Options" value="nosniff" />
        <add name="X-Frame-Options" value="DENY" />
        <add name="X-XSS-Protection" value="1; mode=block" />
      </customHeaders>
    </httpProtocol>
  </system.webServer>
</configuration>